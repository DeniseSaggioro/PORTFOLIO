function openModal(e) {
  var t = e.currentTarget,
    n = window.getComputedStyle(t, "::before").getPropertyValue("background-image");
  (n = n.slice(5, -2)), (document.getElementById("modalImage").src = n);
}
emailjs.init({ publicKey: "V0EXCnXFo77Yp0lXs" });
const handleSubmit = (e) => {
    e.preventDefault();
    let t = document.getElementById("nomeUtenteInput").value,
      n = document.getElementById("emailInput").value,
      l = document.getElementById("testoInput").value,
      s = !0,
      a = { from_email: n, from_name: t, to_name: "Denise", message: l };
    "" === t
      ? ((s = !1),
        (document.getElementById("nameError").style.display = "block"),
        (document.getElementById("nameError").innerText = "Inserisci il tuo nome."),
        document.getElementById("nomeUtenteInput").classList.remove("mb-2"))
      : ((document.getElementById("nameError").style.display = "none"),
        document.getElementById("nomeUtenteInput").classList.add("mb-2")),
      "" === l
        ? ((s = !1),
          (document.getElementById("textError").style.display = "block"),
          (document.getElementById("textError").innerText = "Scrivimi un messaggio."),
          document.getElementById("testoInput").classList.remove("mb-4"))
        : ((document.getElementById("textError").style.display = "none"),
          document.getElementById("testoInput").classList.add("mb-4")),
      "" !== n && /^[\w-]+(?:.[\w-]+)*@(?:[\w-]+.)+[a-zA-Z]{2,7}$/.test(n)
        ? ((document.getElementById("emailError").style.display = "none"),
          document.getElementById("emailInput").classList.add("mb-2"))
        : ((s = !1),
          (document.getElementById("emailError").style.display = "block"),
          document.getElementById("emailInput").classList.remove("mb-2")),
      s &&
        (document.getElementById("spinnerLoading").classList.remove("d-none"),
        emailjs.send("service_y6yx6p6", "template_5ov6wmf", a, "V0EXCnXFo77Yp0lXs").then(
          (e) => {
            alert("Email inviata con successo!"),
              console.log("SUCCESS!", e.status, e.text),
              (document.getElementById("nomeUtenteInput").value = ""),
              (document.getElementById("emailInput").value = ""),
              (document.getElementById("testoInput").value = ""),
              document.getElementById("spinnerLoading").classList.add("d-none");
          },
          (e) => {
            console.error("Errore durante l'invio dell'email:", e),
              alert("Si \xe8 verificato un errore durante l'invio dell'email."),
              (document.getElementById("nomeUtenteInput").value = ""),
              (document.getElementById("emailInput").value = ""),
              (document.getElementById("testoInput").value = ""),
              document.getElementById("spinnerLoading").classList.add("d-none");
          }
        ));
  },
  homepageLocation = () => {
    let e = document.querySelectorAll(".nav-item-init-anim"),
      t = document.getElementById("homepage"),
      n = document.getElementById("progetti"),
      l = document.getElementById("competenze"),
      s = document.getElementById("contatti"),
      a = (e) => {
        let t = e.getBoundingClientRect();
        window.innerHeight || document.documentElement.clientHeight;
        let n = t.height;
        return (
          t.top >= 0 &&
          t.top <= n &&
          t.bottom >= 0 &&
          t.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      };
    a(t) ? e[0].classList.add("nav-item-selected") : e[0].classList.remove("nav-item-selected"),
      a(n) ? e[1].classList.add("nav-item-selected") : e[1].classList.remove("nav-item-selected"),
      a(l) ? e[2].classList.add("nav-item-selected") : e[2].classList.remove("nav-item-selected"),
      a(s) ? e[3].classList.add("nav-item-selected") : e[3].classList.remove("nav-item-selected");
  };
window.addEventListener("scroll", () => {
  homepageLocation();
}),
  homepageLocation();
